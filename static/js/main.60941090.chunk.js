(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/avatar.447ef0d9.png"},24:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"REVIEWS_REQUEST",function(){return g}),n.d(a,"REVIEWS_REQUEST_SUCCESS",function(){return N}),n.d(a,"REVIEWS_REQUEST_FAIL",function(){return S}),n.d(a,"getReviews",function(){return R}),n.d(a,"ADD_REVIEWS_REQUEST",function(){return x}),n.d(a,"ADD_REVIEWS_REQUEST_SUCCESS",function(){return j}),n.d(a,"ADD_REVIEWS_REQUEST_FAIL",function(){return y}),n.d(a,"addReview",function(){return C});var r=n(0),s=n.n(r),i=n(13),c=n.n(i),o=(n(29),n(1)),l=n(5),m=n(6),u=n(8),v=n(7),d=n(9),E=(n(30),n(21)),_=n.n(E),p=n(2),h=n(12),w=n.n(h),f=n(18),b="http://localhost:3000/comments",g="REVIEWS_REQUEST",N="REVIEWS_REQUEST_SUCCESS",S="REVIEWS_REQUEST_FAIL",R=function(){return function(){var e=Object(f.a)(w.a.mark(function e(t){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:g}),e.prev=1,e.next=4,fetch(b).then(function(e){return e.json()}).then(function(e){return e});case 4:n=e.sent,t({type:N,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:S,error:a}));case 11:case"end":return e.stop()}var a},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},x="ADD_REVIEWS_REQUEST",j="ADD_REVIEWS_REQUEST_SUCCESS",y="ADD_REVIEWS_REQUEST_FAIL",O=function(e){return{type:j,status:"RESOLVED",payload:e}},C=function(e){return function(){var t=Object(f.a)(w.a.mark(function t(n){var a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:x,status:"PENDING"}),t.prev=1,t.next=4,fetch(b,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e});case 4:a=t.sent,n(O(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n((r=t.t0,{type:y,status:"REJECTED",error:r}));case 11:case"end":return t.stop()}var r},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},F=function(e){var t=e.currentUserProfile,n=t.userAvatar,a=t.userName,r=t.userPosition,i=t.userSummary,c=n.src,o=n.alt;return s.a.createElement("div",{className:"title"},s.a.createElement("div",{className:"title__img-box"},s.a.createElement("img",{src:c,alt:o,className:"title__img"})),s.a.createElement("div",{className:"title__description-box"},s.a.createElement("h3",{className:"title__name"},a),s.a.createElement("p",{className:"title__position"},r),s.a.createElement("p",{className:"title__summary"},i)))},D=function(e){var t=e.servicesTitle,n=e.services,a=0;n.forEach(function(e){a=e.count>a?e.count:a});var r=n.reduce(function(e,t){return e+t.count},0),i=n.map(function(e){var t=100*e.count/r;return s.a.createElement("div",{className:"services-list__item-box",key:e.title},s.a.createElement("p",{className:"services-list__item-title"},e.title),s.a.createElement("div",{className:e.count===a?"services-list__count-view_max":"services-list__count-view",style:{width:"".concat(t,"%")}}),s.a.createElement("p",{className:"services-list__item-count"},e.count))});return s.a.createElement("div",{className:"services"},s.a.createElement("p",{className:"services__title"},t),s.a.createElement("div",{className:"services-list"},i),s.a.createElement("div",{className:"services-list__item-box services-list__item-box_total"},s.a.createElement("p",{className:"services-list__total-title"},"\u0412\u0441\u0435\u0433\u043e"),s.a.createElement("p",{className:"services-list__total-count"},r)))},A=n(10),I=function(e){var t=["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"];return new Date(e).toLocaleDateString().split(".").reduce(function(e,n,a){return e=0===a?" "+e+n:1===a?e+" "+t[+n-1]:e+" "+n},"")},k=[{id:1,name:"\u0421\u0430\u043c\u0443\u0438\u043b",time:13184532e5,text:"\u041f\u0440\u0438\u0432\u0435\u0442 \u0412\u0435\u0440\u0443\u043d\u044c! \u043d\u0438\u0447\u0435\u0441\u0435 \u0442\u044b \u043a\u0440\u0443\u0442\u0430\u044f. \u0444\u043e\u0442\u043a\u0430 \u043a\u043b\u0430\u0441\u0441!!!"},{id:2,name:"\u041b\u0438\u043b\u0438\u044f \u0421\u0435\u043c\u0435\u043d\u043e\u0432\u043d\u0430",time:13185396e5,text:"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430, \u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0415\u0441\u0442\u044c \u0442\u0430\u043a\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u041e\u0441\u043e\u0431\u044b\u0439 \u0432\u0438\u0434 \u043a\u0443\u043d\u0438\u0446 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u043a\u0438\u043d\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442, \u044d\u0442\u043e \u0438 \u0435\u0441\u0442\u044c \u0432\u0441\u0435\u043c\u0438\u0440\u043d\u043e \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0446\u0435\u043d\u0442\u0440 \u043e\u0433\u0440\u0430\u043d\u043a\u0438 \u0430\u043b\u043c\u0430\u0437\u043e\u0432 \u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0438 \u0431\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u0430\u043c\u0438?"},{id:3,name:"\u041b\u0438\u043b\u0438\u044f \u0421\u0435\u043c\u0435\u043d\u043e\u0432\u043d\u0430",time:13185396e5,text:"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430, \u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0415\u0441\u0442\u044c \u0442\u0430\u043a\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u041e\u0441\u043e\u0431\u044b\u0439 \u0432\u0438\u0434 \u043a\u0443\u043d\u0438\u0446 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u043a\u0438\u043d\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442?"},{id:4,name:"\u0421\u0430\u043c\u0443\u0438\u043b",time:13184532e5,text:"\u041f\u0440\u0438\u0432\u0435\u0442 \u0412\u0435\u0440\u0443\u043d\u044c! \u043d\u0438\u0447\u0435\u0441\u0435 \u0442\u044b \u043a\u0440\u0443\u0442\u0430\u044f. \u0444\u043e\u0442\u043a\u0430 \u043a\u043b\u0430\u0441\u0441!!!"},{id:5,name:"\u041b\u0438\u043b\u0438\u044f \u0421\u0435\u043c\u0435\u043d\u043e\u0432\u043d\u0430",time:13185396e5,text:"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430, \u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0415\u0441\u0442\u044c \u0442\u0430\u043a\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u041e\u0441\u043e\u0431\u044b\u0439 \u0432\u0438\u0434 \u043a\u0443\u043d\u0438\u0446 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u043a\u0438\u043d\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442, \u044d\u0442\u043e \u0438 \u0435\u0441\u0442\u044c \u0432\u0441\u0435\u043c\u0438\u0440\u043d\u043e \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0446\u0435\u043d\u0442\u0440 \u043e\u0433\u0440\u0430\u043d\u043a\u0438 \u0430\u043b\u043c\u0430\u0437\u043e\u0432 \u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0438 \u0431\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u0430\u043c\u0438?"},{id:6,name:"\u041b\u0438\u043b\u0438\u044f \u0421\u0435\u043c\u0435\u043d\u043e\u0432\u043d\u0430",time:13185396e5,text:"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430, \u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0415\u0441\u0442\u044c \u0442\u0430\u043a\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u041e\u0441\u043e\u0431\u044b\u0439 \u0432\u0438\u0434 \u043a\u0443\u043d\u0438\u0446 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u043a\u0438\u043d\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442?"},{id:7,name:"\u0421\u0430\u043c\u0443\u0438\u043b",time:13184532e5,text:"\u041f\u0440\u0438\u0432\u0435\u0442 \u0412\u0435\u0440\u0443\u043d\u044c! \u043d\u0438\u0447\u0435\u0441\u0435 \u0442\u044b \u043a\u0440\u0443\u0442\u0430\u044f. \u0444\u043e\u0442\u043a\u0430 \u043a\u043b\u0430\u0441\u0441!!!"},{id:8,name:"\u041b\u0438\u043b\u0438\u044f \u0421\u0435\u043c\u0435\u043d\u043e\u0432\u043d\u0430",time:13185396e5,text:"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430, \u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0415\u0441\u0442\u044c \u0442\u0430\u043a\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u041e\u0441\u043e\u0431\u044b\u0439 \u0432\u0438\u0434 \u043a\u0443\u043d\u0438\u0446 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u043a\u0438\u043d\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442, \u044d\u0442\u043e \u0438 \u0435\u0441\u0442\u044c \u0432\u0441\u0435\u043c\u0438\u0440\u043d\u043e \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0446\u0435\u043d\u0442\u0440 \u043e\u0433\u0440\u0430\u043d\u043a\u0438 \u0430\u043b\u043c\u0430\u0437\u043e\u0432 \u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0438 \u0431\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u0430\u043c\u0438?"},{id:9,name:"\u041b\u0438\u043b\u0438\u044f \u0421\u0435\u043c\u0435\u043d\u043e\u0432\u043d\u0430",time:13185396e5,text:"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430, \u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0415\u0441\u0442\u044c \u0442\u0430\u043a\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u041e\u0441\u043e\u0431\u044b\u0439 \u0432\u0438\u0434 \u043a\u0443\u043d\u0438\u0446 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u043a\u0438\u043d\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442?"}],U=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={latestReviews:!0},n.switchView=function(){n.setState(function(e){return{latestReviews:!e.latestReviews}})},n.renderComment=function(e){return s.a.createElement("div",{className:"reviews__item",key:e.time+10*Math.random()},s.a.createElement("p",{className:"reviews__name"},e.name,s.a.createElement("span",{className:"reviews__date"},I(e.time))),s.a.createElement("div",{className:"reviews__text-box"},s.a.createElement("p",{className:"reviews__text"},e.text.split("&lt").join("<"))))},n.renderCommentsList=function(){var e=n.props.reviews;return n.state.latestReviews?e.slice(e.length-3).map(function(e){return n.renderComment(e)}):e.map(function(e){return n.renderComment(e)})},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.reviews,n=e.likes,a=e.isFetching,r=this.state.latestReviews;return s.a.createElement("div",{className:"reviews"},a?s.a.createElement("p",{className:"reviews__status-message"},"Loading..."):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"reviews__total"},s.a.createElement("div",{className:"reviews__toggle-view"},s.a.createElement("button",{onClick:this.switchView,disabled:r,className:r?"reviews__active":"reviews__not-active"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u044b"),s.a.createElement("button",{onClick:this.switchView,disabled:!r,className:r?"reviews__not-active":"reviews__active"},"\u0412\u0441\u0435 \u043e\u0442\u0437\u044b\u0432\u044b")),s.a.createElement("div",{className:"reviews__indicators-view"},n>0&&s.a.createElement("span",{className:"reviews__indicators_likes"},n),t&&s.a.createElement("span",{className:"reviews__indicators_comments"},t.length))),s.a.createElement("div",{className:"reviews__list"},t?this.renderCommentsList():"\u041e\u0442\u0437\u044b\u0432\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442")))}}]),t}(r.Component);U.defaultProps={reviews:Object(A.a)(k),likes:131,isFetching:!1};var T=Object(p.b)(function(e){return{isFetching:e.reviews.isFetching,reviews:e.reviews.comments}},null)(U),V=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},n.handleInput=function(e){e.ctrlKey&&"Enter"===e.key?n.saveReview():n.setState({text:e.target.value})},n.saveReview=function(){var e=n.props,t=e.addReview,a=e.userName;n.state.text.trim()&&t({name:a,time:(new Date).getTime(),text:n.state.text.trim().split("<").join("&lt")})},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){"PENDING"===e.status&&"RESOLVED"===this.props.status&&this.state.text&&this.setState({text:""})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.isFetchingComment,a=e.errorAddComment;return s.a.createElement("div",{className:"reviews__add"},a&&s.a.createElement("span",{className:"reviews__error"},"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"),s.a.createElement("textarea",{onChange:this.handleInput,className:"reviews__input",rows:"4",value:this.state.text,onKeyDown:this.handleInput,maxLength:"500"}),s.a.createElement("button",{onClick:this.saveReview,disabled:!(!n&&!t),className:"reviews__button"},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u043d\u0442\u0443"))}}]),t}(r.Component);V.defaultProps={addReview:function(){return console.log("addReview isn't set")},userName:"\u042e\u0437\u0435\u0440 \u042e\u0437\u0435\u0440",isFetching:!1,isFetchingComment:!1,errorAddComment:!1};var P=Object(o.a)({},a),W=Object(p.b)(function(e){return{isFetchingComment:e.reviews.isFetchingComment,isFetching:e.reviews.isFetching,errorAddComment:e.reviews.errorAddComment,status:e.reviews.status}},P)(V),L=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){n.props.getReviews()},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.currentUserProfile,t=e.currentProfile,n=e.services;return s.a.createElement("div",{className:"reviews-box"},s.a.createElement(F,{currentUserProfile:t}),s.a.createElement(D,{servicesTitle:n.servicesTitle,services:n.servicesList}),s.a.createElement(T,null),s.a.createElement(W,null))}}]),t}(r.Component);L.defaultProps={getReviews:function(){return console.log("getReviews isn't set")},currentUserProfile:{currentProfile:{userAvatar:{src:_.a,alt:"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430 \u0420\u043e\u0441\u0442\u043e\u0432\u0430"},userName:"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430 \u0420\u043e\u0441\u0442\u043e\u0432\u0430",userPosition:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u043c",userSummary:"\u041f\u043e\u0434\u0431\u0435\u0440\u0443 \u0434\u043b\u044f \u0432\u0430\u0441 \u0441\u0430\u043c\u044b\u0435 \u043b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041c\u043e\u0438 \u0443\u0441\u043b\u0443\u0433\u0438 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u043e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b"},services:{servicesTitle:"\u0423\u0441\u043b\u0443\u0433",servicesList:[{title:"\u0420\u0443\u0447\u043d\u043e\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",count:11},{title:"\u041f\u0430\u043a\u0435\u0442\u043d\u044b\u0435 \u0442\u0443\u0440\u044b",count:3},{title:"\u041e\u0442\u0435\u043b\u0438",count:1}]}}};var Q=Object(o.a)({},a),J=Object(p.b)(null,Q)(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(3),G=n(23),K={reviews:{isFetching:!1,isFetchingComment:!1,comments:[{name:"",time:0,text:""}],error:!1,errorAddComment:!1,status:""}},M=Object(B.c)({reviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.reviews,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=t.status;switch(n){case g:return Object(o.a)({},e,{error:!1,isFetching:!0});case N:return Object(o.a)({},e,{comments:a,isFetching:!1});case S:return Object(o.a)({},e,{error:!0,isFetching:!1,comments:Object(A.a)(k)});case x:return Object(o.a)({},e,{errorAddComment:!1,isFetchingComment:!0,status:r});case j:var s=Object(A.a)(e.comments);return s.push(a),Object(o.a)({},e,{comments:s,isFetchingComment:!1,status:r});case y:return Object(o.a)({},e,{errorAddComment:!0,isFetchingComment:!1,status:r});default:return e}}}),$=[G.a],q=Object(B.d)(M,K,B.a.apply(void 0,$));c.a.render(s.a.createElement(p.a,{store:q},s.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.60941090.chunk.js.map